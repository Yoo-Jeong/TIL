## 220903 분할구현

* `func.h` (헤더파일)
* `func.cpp` (함수 구현)
* `main.cpp` (main)  

👉이 모든것들이 합쳐져서 `실행파일(xxx.exe)`이 된다.  

<br/>
 
 ### 분할구현 예시
* 헤더파일에는 어떤 함수가 있다고만 작성하고 실제 구현은 `func.cpp`에 한다.  
* `func.h`를 `include`한 `main.cpp`에서 함수를 사용한다.  

<br/>

`func.h` (헤더파일) 작성 예시
```cpp
#pragma once

int Add(int a, int b);
int Sub(int a, int b);
int Mul(int a, int b);

```

`func.cpp` (구현부파일) 작성 예시
```cpp
#include "func.h"

int Add(int a, int b)
{
    return a + b;
}

int Sub(int a, int b)
{
    return a - b;
}

int Mul(int a, int b)
{
    return a * b;
}

```
👉 이렇게 서로 다른 파일로 `헤더파일`과 `구현부파일`에 함수를 작성한 후 실제 사용할 `cpp파일`, 예를들면 `main.cpp`파일에서 함수를 사용한다.  

<br/>

### 분할구현을 하는 이유는?
* **정리와 유지보수**를 용이하게 하기 위함이다. (사람이 관리하기 위해)
* 속도면에서는 하나의 cpp파일에 모두 구현하는게 빠르다.

<br/>

### 분할구현의 문제점  

#### 중복정의 문제
* 함수 이름이 중복됐을 경우, 어떤 함수를 호출하려고 하는지 불분명하다.  

* 헤더파일에는 어떤 함수가 있다라고만 알려준다. 구현은 하나의 cpp파일에서만 하고, 나머지에서는 호출만 하기
 
* main의 obj파일 안에는 그 함수를 호출하겠다라는 정보만 들어가있다.

* 컴파일 단계에서 각각 파일단위로 컴파일이 진행된다.    
그런 뒤에 합친다. -> 이게 링크 과정

👉 이것들을 모두 하나로 합쳐서 최종 실행파일(exe)가 나온다.

 
<br/>

### 헤더 파일에 전역변수를 선언해놓고 파일들이 이 헤더를 참조해 가면 되지않을까?  
👉 안됨. 모든 파일을 링크해서 하나로 합쳤을때 같은 이름의 전역변수가 여러개 나온다.

이를 해결하기 위해서 나온 개념이 `정적변수`와 `외부변수`이다. (but 둘은 완전 다름!!)  

---

[정적변수&외부변수](https://github.com/Yoo-Jeong/TIL/blob/master/C%2B%2B/220904_%EC%A0%95%EC%A0%81%EB%B3%80%EC%88%98%26%EC%99%B8%EB%B6%80%EB%B3%80%EC%88%98.md) 